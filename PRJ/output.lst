C51 COMPILER V9.00   OUTPUT                                                                04/13/2019 14:32:10 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE OUTPUT
OBJECT MODULE PLACED IN ..\HEX\output.obj
COMPILER INVOKED BY: c:\Keil\C51\BIN\C51.EXE ..\SCR\output.c BROWSE INCDIR(..\INC) DEBUG OBJECTEXTEND PRINT(.\output.lst
                    -) TABS(2) OBJECT(..\HEX\output.obj)

line level    source

   1          /****************************************************************************
   2          * File:     Output.c                          *
   3          * Created:    2015-07-13                          *
   4          * Last Change:                                *
   5          * Author:   chen zhi peng                         *
   6          * Description:  输出控制                          *
   7          ****************************************************************************/
   8          #include "Output.h"
   9          
  10          u8 data DZPnum;
  11          u8 data DlyBrakeNum;
  12          u16 data BrakeNum;
  13          u8 data BrakeSta;
  14          
  15          void intOut()
  16          {
  17   1        DZPnum=0;
  18   1        DlyBrakeNum=0;
  19   1        BrakeNum=0;
  20   1        BrakeSta=0;
  21   1      }
  22          void DZP_clk()
  23          {
  24   1        if ( DZPnum )
  25   1        {
  26   2          DZPnum--;    //道闸反馈信号时钟
  27   2        }
  28   1      }
  29          void BrakeClk()
  30          {
  31   1        if ( BrakeNum )
  32   1        {
  33   2          BrakeNum--;
  34   2        }
  35   1        if ( DlyBrakeNum )
  36   1        {
  37   2          DlyBrakeNum--;
  38   2        }
  39   1      }
  40          
  41          
  42          void BrakeClr()
  43          {
  44   1        KK=1;
  45   1        BrakeNum=0;
  46   1        DlyBrakeNum=0;
  47   1        BrakeSta=0;
  48   1      }
  49          
  50          void OPutTask()
  51          {
  52   1        if ( mTask== MTASK_UP1 )
  53   1        {
  54   2          RG= KK_GRE;
C51 COMPILER V9.00   OUTPUT                                                                04/13/2019 14:32:10 PAGE 2   

  55   2          if ( !BM3 && ( iTask==ITASK_DG_UP || iTask==ITASK_FZ_UP || iTask==ITASK_DRAG_UP || iTask== ITASK_INER_DW
             - ) )
  56   2          {
  57   3            DZP_CL;
  58   3          }
  59   2          else
  60   2          {
  61   3            DZP_UP;
  62   3          }
  63   2          DZPnum=DZP_TIME;
  64   2        }
  65   1        else if ( mTask== MTASK_DW1 )
  66   1        {
  67   2          RG= KK_RED;
  68   2          DZP_DW;
  69   2          DZPnum= DZP_TIME;
  70   2        }
  71   1        else if ( !DZPnum )
  72   1        {
  73   2          if ( gRepairMotor.OutFlag )
  74   2          {
  75   3            DZP_ER;
  76   3          }
  77   2          else
  78   2          {
  79   3            DZP_CL;
  80   3          }
  81   2        }
  82   1      
  83   1        switch ( BrakeSta )
  84   1        {
  85   2          case 0:
  86   2            if ( mTask/10==MTASK_DS || mTask/10==MTASK_US )
  87   2            {
  88   3              DlyBrakeNum=DLYBRAKETIME;
  89   3              BrakeSta++;
  90   3            }
  91   2            break;
  92   2      
  93   2          case 1:
  94   2            if ( !DlyBrakeNum )
  95   2            {
  96   3              KK=0;
  97   3              BrakeNum=BRAKETIME;
  98   3              BrakeSta++;
  99   3            }
 100   2            break;
 101   2      
 102   2          case 2:
 103   2            if ( !BrakeNum )
 104   2            {
 105   3              KK=1;
 106   3              BrakeSta++;
 107   3            }
 108   2            break;
 109   2      
 110   2          case 3:
 111   2            break;
 112   2      
 113   2          default:
 114   2            break;
 115   2        }
C51 COMPILER V9.00   OUTPUT                                                                04/13/2019 14:32:10 PAGE 3   

 116   1      }
 117          
 118          
 119          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    200    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
